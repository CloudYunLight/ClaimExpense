# 开发日志

## 前端修正
- [x] 前端页面，不友好，操作起来很奇怪
- - 例如，数据大盘页面统计值，请考虑我要查的是一段时间的的数据，但需要聚焦于未完成的报销清单
- - 例如修改密码页面，没有很好的布局
- - 我的清单页面，没有很好的布局；编辑每个清单详情的时候，也不友善
- - 日期查询，更改结束日期


## 修复Bug（2026-01-27 16：00）
- [x] 静态元素重复加载：列表与详情页新增静默刷新机制，避免整页骨架反复闪烁。
- [x] 页面底端版权栏：在通用布局中补充页脚，支持跳转版权说明。
- [x] 登录异常提示：401 自动清空会话、Toast 提示并重定向到登录页。
- [x] 清单详情无法初始化：详情页容错空数据并保持刷新提示，可在空账单时直接创建记录。
- [x] 状态下拉优化：统一 select 视觉样式，使用胶囊风格的状态选择器。
- [x] 清单详情账单不可见：修复账单查询仅返回单条记录的问题，确保所有已录入账单可被浏览。


## 改bug，status空字符串造成的sql错误
- 添加utils_status.js 对判空逻辑进行强化

## 前端基本梳理完成，开始改bug

## 梳理前端代码-03
- 梳理了零散的代码(若干子模块)

## 梳理前端代码-02
- 梳理了零散的代码(API)

## 梳理前端代码-01
- 梳理了零散的代码

## v0.5 vibe coding 生成基本的前端框架；后端在无用户的情况下生成一个默认管理员
- 创建基于Vue的前端内容
- 创建无用户情况的管理员

## v0.4 后端基本开发完毕，梳理了接口文档

## 梳理LIst&Bill
- 整理`reimbursementList`和`Bill`的相关内容


##  v0.3 处理登录和验证模块：`auth.js`&&`user.js`，修正中间件命名&数据库链接情况
 重构中间件文件结构并优化用户模型
- 将中间件文件统一添加 .mid 扩展名以便识别
- 优化 User 模型中的数据库查询逻辑
- 改进密码重置功能，使用 crypto 模块生成安全随机密码
- 修复数据库查询结果处理，避免空结果导致的错误


## 模块化数据库操作`database`
- 更改`config`文件的读取方式
- 将所有数据库操作，使用`database`进行；使用`excute`进行数据库操作;
- - 暂时停掉所有的事务性操作


## 处理中间件`errorHandler`&&`rateLimiter`
- 处理 `errorHandler` 其中无法根据err.name 判断错误类型，无对应的抛出error内容[!]
- 处理 `rateLimiter` ，由config文件限制频次

## v0.2 处理logger.js && config.init
- 处理 `logger.js` 严格按照日志级别过滤日志
- 调整日志格式化逻辑，优化访问日志输出格式
- 移除多余的详细日志开关配置，统一使用日志级别控制
- 更新server.js启动日志显示当前使用的日志级别



## 处理 app.js && server.js 文件
- 创建app.js，将server.js中的代码移动到app.js中
- server.js 仅作为监听用
- app.js 用于挂载中间件，挂载顺序即处理顺序
问题：
- 下一步解决 `logger.js`的代码

## 更改后端代码布局
- 整理后端代码结构，将代码放在src文件下
- 新建开发日志文件，以及测试数据文件（ignored）
问题:
- 下一阶段整理server.js/logger.js

## V0.1 后端基础版本
- 初步灵码生成后端框架；能够无报错运行

问题：
- 代码架构混乱，需要重新整理文件
- 代码逻辑未验证，需要梳理逻辑
- git管理失范，未形成分支处理（master/dev）
